# 717project 项目总结
  ## 搭建项目环境：
     搭建webpack: 考虑到项目的不同使用环境，在此将webpack.config.js分为三个js文件来书写，根据不同的命   令使用不同的环境。 
     webpack.base.js: entry 、 output 、 module 、plugins 的一些配置
     webpack.dev.js : 用于开发环境，不用进行代码压缩与分离，需要起服务
     webpack.build.js : 用于上线环境， 不需要起服务，但是需要进行代码的压缩与分离
     后两个文件，都需要引入并合并base文件。
  ## 搭建路由：
    1. 创建router目录，在目录下创建router.config.js文件。
    2. 在文件中抛出一个对象，对象中将路由以层级包含的形式定义成一个数组，创建一个Routers组件,在组件内部遍    历路由信息，并将相关的路由信息及子级路由（children）传递下去，在需要渲染路由时调用Routers组件。
    3. 设定index页面为一级路由，二级路由暂时分为：首页、分类、购物车、我的；在index页面中将这四个路由的     title作为footer渲染。在其他页面中又生成的页面如果有footer,就作为二级路由渲染，没有footer则作为      一级路由渲染。
  ## 封装公共组件：
     每一个路由都是一个单独的页面，根据项目需求可以将一些经常用到的部分单独封装成一个common组件,在调用    时传递不同的内容。例如：头部组件、商品列表组件、轮播图组件（使用Swiper插件生成）、button按钮组件、  input输入框、提示框组件等。
  ## 首页：
    1. home页作为二级路由存在，由header、 footer和section组成，section中有一个重要的部分：商品列表。
    2. 在首页中使用post的请求方式，将商品的id作为参数传递，向后台请求商品数据，根据后台返回的数据渲染商      品列表。由于在多个页面中都会使用到商品列表，所以将它作为一个单独的common组件引入，将请求到的数据通    过props传递过去。
    3. 商品列表要有下拉加载的效果，使用 文档高度-（视窗高度+滚动高度）的距离来判断是否向后台请求数据，同     时设置一个变量，初始值为false,此时不能进行数据请求，当数据更新完成后，将值变为true,再次向后台发起    请求，这样避免了每次触发onScroll事件都会不停的请求数据，减轻浏览器压力。
    4. 每个商品列表的右下角都有一个购物车icon,点击可向购物车添加商品。此时需要在点击事件中向后台发送商品     数据，后台根据不同的用户信息，将接收到的数据添加到对应的用户信息数据列表中。
    5. 在添加购物车之前必须要验证用户是否登录，只有在登录的状态下才能向购物车添加商品。因此也要把cookie中    生成的token字段传递给后台，以判断用户信息以及是否是登录状态。
  ## 登录、注册：
    1. 注册流程：前端收集用户信息并验证格式是否正确后发送给后台，后台将接收到的信息存储到指定的数据库，并    返回一个成功的信息。
    2. 登录流程：前端收集用户信息并验证格式是否正确后发送给后台，后台将接收到的数据与数据库对比，如果数据    存在，则根据用户名与密码生成密钥（token），再把token传给前端，如果数据不存在则返回错误信息。
    3. 生成token字段需要引入第三方包jsonwebtoken,它有加密的作用，主要用于网站安全与权限管理。token字段     在项目中是一个 很重要的存在，在很多地方都通过它来判断用户信息以及相关的数据操作。
  ## 购物车：
    1. 在购物车页面向后台发送token请求购物车列表数据，后台根据token字段解密并获取购物车数据，如果是登录     状态，则返回相应的数据，并将数据存入store中，然后从store中获取数据，渲染页面；否则跳转到登录页面，   登录后才能进行操作。
    2. 单选与全选：在后台的数据中添加select字段，根据商品id与select字段的状态来判断是否选中，在更改         select的状态时要同时更新store里的数据，以达到数据驱动视图的效果。
    3. 加加与减减：在后台的数据中添加count字段，根据商品id与count字段来改变购物车的商品数量，同时更新       store里的数据，以达到数据驱动视图的效果。 
    4. 删除商品：前端收集选中商品的id和token一起传给后台，后台删除相应的数据后，将删除后的数据返回给前端，   此时前端将此数据更新到store中，再次重新渲染数据，完成删除操作。
  ## 我的页面：
    1. 进入我的页面，首先要判断是否登录，如果是未登录状态，则跳转到登录页面。

